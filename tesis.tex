% Archivo thesis.tex
% Documento maestro que incluye todos los paquetes necesarios para el documento principal.

% Documento obtenido por un sinfin de iteraciones de administradores del LDC
% Estructura actual hecha por:
% Jairo Lopez <jairo@ldc.usb.ve>
% Actualizado ligeramente por:
% Alexander Tough 

% Definición del documento
\documentclass[oneside,12pt,letterpaper]{report}
\tolerance=1000  
\hbadness=10000  
\raggedbottom

% -- Inicio de la definición de paquetes -- %

% Para escribir algoritmos
\usepackage{listings}
\usepackage{longtable}
\usepackage{pdflscape}

% Paquetes para manejar gráficos
\usepackage{epsf}
\usepackage[pdftex]{graphicx}
\usepackage{epsfig}

% Símbolos matemáticos
\usepackage{latexsym,amssymb}

% Paquetes para presentar una tesis decente.
\usepackage{setspace,cite} % Doble espacio para texto, espacio singular para
                           % los caption y pie de pagina
                           
\usepackage{rotating}
\usepackage{epstopdf}

\usepackage[table]{xcolor}
\usepackage{tikz}
\usepackage{helvet}
\usepackage{float}
%\usepackage{floatrow}
\floatstyle{plaintop}
\restylefloat{table}

%\usepackage{titlesec}
\usetikzlibrary{shapes.geometric,arrows}

\usetikzlibrary{arrows,shapes}
\usepackage{verbatim}

\usepackage{comment}

% Paquetes no utilizados para citas
%\usepackage{mcite} 
%\usepackage{draft} 

\usepackage{wrapfig}
\usepackage{alltt}

% Paquetes para idioma
\usepackage[spanish]{babel}
\usepackage[fixlanguage]{babelbib}
\usepackage[spanish]{translator}
\usepackage[utf8]{inputenc}
\usepackage{color, xcolor, colortbl}
\usepackage{multirow}
\usepackage{subfig}
\usepackage[OT1]{fontenc}
\usepackage{tocbibind}
\usepackage{anysize}
\usepackage{listings} 

% Para poder tener texto asiático
%\usepackage{CJK}
\usepackage{pdfpages}

% Opciones para los glosarios
\usepackage[style=altlist,toc,nonumberlist,acronym]{glossaries}
\usepackage{url}
\usepackage{amsthm}
\usepackage{amsmath}
\usepackage{fancyhdr} % Necesario para los encabezados
\usepackage{fancyvrb}
\usepackage{makeidx} % En caso de necesitar indices.
\makeindex  % Necesitado para los indices

% Definiciones para definiciones, teoremas y lemas
\theoremstyle{definition} \newtheorem{definicion}{Definici\'{o}n}
\theoremstyle{plain} \newtheorem{teorema}{Teorema}
\theoremstyle{plain} \newtheorem{lema}{Lema}

% Para la creación de los pdfs
\usepackage{hyperref}
\hypersetup{urlcolor=blue, colorlinks=false}

% Para resolver el lió del Unicode para la informacion de los PDFs
% En pdftitle coloca el nombre de su proyecto de grado/pasantia.
% En pdfauthor coloca su nombre.
\hypersetup{
    pdftitle = {MÓDULO PARA LA DETECCIÓN DE ATAQUE MEDIANTE BRO},
    pdfauthor={Alejandra Cordero García},
    colorlinks,
    citecolor=black,
    filecolor=black,
    linkcolor=black,
    urlcolor=black,
}


\makeatletter
\newcount\dirtree@lvl
\newcount\dirtree@plvl
\newcount\dirtree@clvl
\def\dirtree@growth{%
  \ifnum\tikznumberofcurrentchild=1\relax
  \global\advance\dirtree@plvl by 1
  \expandafter\xdef\csname dirtree@p@\the\dirtree@plvl\endcsname{\the\dirtree@lvl}
  \fi
  \global\advance\dirtree@lvl by 1\relax
  \dirtree@clvl=\dirtree@lvl
  \advance\dirtree@clvl by -\csname dirtree@p@\the\dirtree@plvl\endcsname
  \pgf@xa=1cm\relax
  \pgf@ya=-1cm\relax
  \pgf@ya=\dirtree@clvl\pgf@ya
  \pgftransformshift{\pgfqpoint{\the\pgf@xa}{\the\pgf@ya}}%
  \ifnum\tikznumberofcurrentchild=\tikznumberofchildren
  \global\advance\dirtree@plvl by -1
  \fi
}

\tikzset{
  dirtree/.style={
    growth function=\dirtree@growth,
    every node/.style={anchor=north},
    every child node/.style={anchor=west},
    edge from parent path={(\tikzparentnode\tikzparentanchor) |- (\tikzchildnode\tikzchildanchor)}
  }
}
\makeatother

\definecolor{brown}{rgb}{0.7,0.2,0}
\definecolor{darkgreen}{rgb}{0,0.6,0.1}
\definecolor{darkgrey}{rgb}{0.4,0.4,0.4}
\definecolor{lightgrey}{rgb}{0.95,0.95,0.95}

\usepackage{listings}
\lstnewenvironment{code}{\lstset{basicstyle=\small}}{}

\lstset{escapeinside=~~}
\lstset{
   frame=single,
   framerule=1pt,
   showstringspaces=false,
   basicstyle=\footnotesize\ttfamily,
   keywordstyle=\textbf,
   backgroundcolor=\color{lightgrey}
}

% Crea el glosario
\makeglossaries

% Incluye el glosario
%\input{apendices/glosario.tex}

% Para crear la hoja escaneada de las firmas
\usepackage[absolute]{textpos}

% Para que no hayan espacios entre items de listas
\usepackage{enumitem} 

% Pone los nombres y las opciones para mostrar los codigos fuentes
\lstset{language=C, breaklines=true, frame=single, showstringspaces=false,
        showtabs=false, numbers=left, keywordstyle=\color{black},
        basicstyle=\footnotesize, captionpos=b }
\renewcommand{\lstlistingname}{C\'{o}digo fuente}
\renewcommand{\lstlistlistingname}{\'{I}ndice de c\'{o}digos fuentes}

\newcommand{\todo}{ TODO: }

% Dimensiones de la pagina
\setlength{\headheight}{15pt}

% Margenes del informe 
\marginsize{3cm}{2cm}{2cm}{2cm}

% Glosario y lista de abreviaturas
\usepackage{longtable}
\usepackage[acronym]{glossaries}
\makeglossaries 
\loadglsentries{./partes/0_abreviaturas.tex}

\usepackage{hyperref}
\usepackage{bookmark}

% Centrar el titulo de los capítulos
\usepackage{titlesec}
\titleformat{\chapter}[display]
  {\normalfont\centering\bfseries}
  {\large\MakeUppercase{\chaptertitlename}~\thechapter}
  {.5em}
  {\MakeUppercase}
  
% Reducir el tamaño de las secciones
\titleformat*{\section}{\normalsize\bfseries}
\titleformat*{\subsection}{\normalsize\bfseries}
\titleformat*{\subsubsection}{\normalsize\bfseries}
\titleformat*{\paragraph}{\normalsize\bfseries}
\titleformat*{\subparagraph}{\normalsize\bfseries}

% -- Inicio del documento 

\begin{document}

% Pagina de titulo
\input{./partes/0_portada_main.tex}
\input{./partes/0_portada.tex}

% Pagina de acta 1
\includepdf[pages={1}]{actas/acta1.pdf}

% Pagina de acta 2
\includepdf[pages={1}]{actas/acta1.pdf}

\setcounter{secnumdepth}{3}
\setcounter{tocdepth}{4}

% Define encabezado números romanos y como se separan los capítulos y las
% secciones
\addtolength{\headheight}{3pt}
\pagenumbering{roman}
\pagestyle{fancyplain}

\renewcommand{\chaptermark}[1]{\markboth{\chaptername\ \thechapter:\,\ #1}{}}
\renewcommand{\sectionmark}[1]{\markright{\thesection\,\ #1}}

\onehalfspacing

\lhead{}
\chead{}
\rhead{}
\renewcommand{\headrulewidth}{0.0pt}
\lfoot{}
\cfoot{\fancyplain{}{\thepage}}
\rfoot{}

% Cambios de titulos de indices
\renewcommand{\listfigurename}{Índice de Figuras}
\renewcommand{\listtablename}{Índice de Tablas}
\renewcommand{\tablename}{Tabla}
\renewcommand{\contentsname}{Índice General}
\renewcommand\bibname{Referencias}

% Pagina de resumen
\input{./partes/0_resumen.tex}

% Crea la tabla de contenidos
\tableofcontents

% Pagina de dedicatoria (opcional)
\input{./partes/0_dedicatoria.tex}

% Pagina de agradecimientos (opcional)
\input{./partes/0_agradecimientos.tex}


% Crea la lista de cuadros
\listoftables

% Crea la lista de figuras
\listoffigures
\newpage
\phantomsection

% Crea la lista de símbolos

% Crea la lista de códigos fuentes
\lstlistoflistings

% Crea la lista de abreviaturas
\printglossary[style=list,type=\acronymtype,title=Lista de abreviaturas]


\clearpage

% Define encabezado en números arabicos  
\pagenumbering{arabic}

\fancyhf{} % Redefine el encabezado 
\lhead{}
\chead{}
\rhead{\fancyplain{}{\thepage}}
\renewcommand{\headrulewidth}{0.0pt}
\lfoot{}
\cfoot{}
\rfoot{}

\spacing{1.5}

% Incluye los archivos deseados - El contenido de su proyecto de grado/pasantia larga.
\phantomsection
\addcontentsline{toc}{chapter}{Introducción}

 
\input{./partes/capitulo1}
\input{./partes/capituloEmpresa}
\input{./partes/capitulo2}
\input{./partes/marcoTecnologico}
\input{./partes/capitulo3}
\input{./partes/conclusiones}
% El estilo de la bibliografía es AAAI, definido en el archivo aaai.bst.
\input{./partes/referencias}

%\label{Bibliography}
%\bibliography{bibliografia}
%\lhead{\emph{Bibliografía}}
%\bibliographystyle{ieeetr}
%\addtocontents{toc}{\vspace{2em}}

\glsaddall
\printglossary

% Apéndices
%\appendix
%\input{./partes/apendiceA}
%\input{./partes/apendiceB}
%\addtocontents{toc}{\vspace{2em}}
%\backmatter

\end{document}
